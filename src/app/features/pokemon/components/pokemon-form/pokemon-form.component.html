<div class='container'>
  <h2 class='text-center mb-4'>{{ pokeId | changeTitleForm }} Pokemon</h2>
  <div class='poke-form'>
    <form (ngSubmit)="pokeId ? onEditPokemon() : onSubmit()" [formGroup]="pokeForm" class="mb-4">
      <div class="mb-3" formGroupName='name'>
        <label for="pokeName" class="form-label">Poke name</label>
        <input
          type="text"
          id="pokeName"
          class="form-control"
          formControlName="english"
        />
        <div *ngIf='pokeForm.get("english")?.hasError("required") && pokeForm.get("english")?.touched' class='mt-2 alert alert-danger'>
          Field is required.
        </div>
      </div>

<!--      <div class="mb-3">-->
<!--        <ng-container formArrayName='type'>-->
<!--          <label for="pokeType" class="form-label">Types</label>-->
<!--          <div *ngFor='let _ of type.controls; index as i'>-->
<!--            <select class="form-select" id="pokeType" formControlName="{{i}}">-->
<!--              <option *ngFor='let item of pokemonTypes' value='{{item.name}}'>{{item.name}}</option>-->
<!--            </select>-->
<!--          </div>-->
<!--        </ng-container>-->
<!--      </div>-->
      <div class=''>
        <mat-form-field appearance='outline'>
          <mat-label>Choose pokemon type</mat-label>
          <mat-select formControlName="type" multiple>
            <mat-option *ngFor="let pokemon of pokemonTypes" [value]="pokemon.name">{{pokemon.name}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div formGroupName='base'>
        <div class="mb-3">
          <label for="HP" class="form-label">HP</label>
          <input
            type="number"
            class="form-control"
            id="HP"
            formControlName="HP"
          />
          <div *ngIf='pokeForm.get("HP")?.hasError("required") && pokeForm.get("HP")?.touched' class='mt-2 alert alert-danger'>
            Field is required.
          </div>
        </div>
        <div class="mb-3">
          <label for="Attack" class="form-label">Attack</label>
          <input
            type="number"
            class="form-control"
            id="Attack"
            formControlName="Attack"
          />
          <div *ngIf='pokeForm.get("attack")?.hasError("required") && pokeForm.get("attack")?.touched' class='mt-2 alert alert-danger'>
            Field is required.
          </div>
        </div>
        <div class="mb-3">
          <label for="Defense" class="form-label">Defense</label>
          <input
            type="number"
            class="form-control"
            id="Defense"
            formControlName="Defense"
          />
          <div *ngIf='pokeForm.get("Defense")?.hasError("required") && pokeForm.get("Defense")?.touched' class='mt-2 alert alert-danger'>
            Field is required.
          </div>
        </div>
        <div class="mb-3">
          <label for="SpAttack" class="form-label">SP Attack</label>
          <input
            type="number"
            class="form-control"
            id="SpAttack"
            formControlName="SpAttack"
          />
          <div *ngIf='pokeForm.get("SpAttack")?.hasError("required") && pokeForm.get("SpAttack")?.touched' class='mt-2 alert alert-danger'>
            Field is required.
          </div>
        </div>
        <div class="mb-3">
          <label for="SpDefense" class="form-label">SP Defense</label>
          <input
            type="number"
            class="form-control"
            id="SpDefense"
            formControlName="SpDefense"
          />
          <div *ngIf='pokeForm.get("SpDefense")?.hasError("required") && pokeForm.get("SpDefense")?.touched' class='mt-2 alert alert-danger'>
            Field is required.
          </div>
        </div>
        <div class="mb-3">
          <label for="Speed" class="form-label">Speed</label>
          <input
            type="number"
            class="form-control"
            id="Speed"
            formControlName="Speed"
          />
          <div *ngIf='pokeForm.get("Speed")?.hasError("required") && pokeForm.get("Speed")?.touched' class='mt-2 alert alert-danger'>
            Field is required.
          </div>
        </div>
      </div>

      <button mat-raised-button color="primary" [disabled]="pokeForm.invalid">
        Save
      </button>
      <button mat-stroked-button (click)='cancel()'>
        Cancel
      </button>
    </form>
  </div>
</div>
